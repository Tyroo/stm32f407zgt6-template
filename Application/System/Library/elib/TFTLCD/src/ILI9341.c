#include "ILI9341.h"

void ILI9341_Init(uint16_t* Reg, uint16_t* Data) {
	*Reg = (0xCF);  
		*Data = (0x00); 
		*Data = (0xC1); 
//		*Data = (0x81); 
		*Data = (0X30); 
		*Reg = (0xED);  
		*Data = (0x64); 
		*Data = (0x03); 
		*Data = (0X12); 
		*Data = (0X81); 
		*Reg = (0xE8);  
		*Data = (0x85); 
		*Data = (0x10); 
		*Data = (0x7A); 
		*Reg = (0xCB);  
		*Data = (0x39); 
		*Data = (0x2C); 
		*Data = (0x00); 
		*Data = (0x34); 
		*Data = (0x02); 
		*Reg = (0xF7);  
		*Data = (0x20); 
		*Reg = (0xEA);  
		*Data = (0x00); 
		*Data = (0x00); 
		*Reg = (0xC0);    //Power control 
		*Data = (0x1B);   //VRH[5:0] 
		*Reg = (0xC1);    //Power control 
		*Data = (0x01);   //SAP[2:0];BT[3:0] 
		*Reg = (0xC5);    //VCM control 
		*Data = (0x30); 	 //3F
		*Data = (0x30); 	 //3C
		*Reg = (0xC7);    //VCM control2 
		*Data = (0XB7); 
		*Reg = (0x36);    // Memory Access Control 
		*Data = (0x48); 
		*Reg = (0x3A);   
		*Data = (0x55); 
		*Reg = (0xB1);   
		*Data = (0x00);   
		*Data = (0x1A); 
		*Reg = (0xB6);    // Display Function Control 
		*Data = (0x0A); 
		*Data = (0xA2); 
		*Reg = (0xF2);    // Gamma Function Disable 
		*Data = (0x00); 
		*Reg = (0x26);    // Gamma curve selected 
		*Data = (0x01); 
		
		*Reg = (0xE0);    // Set Gamma 
		*Data = (0x0F); 
		*Data = (0x2A); 
		*Data = (0x28); 
		*Data = (0x08); 
		*Data = (0x0E); 
		*Data = (0x08); 
		*Data = (0x54); 
		*Data = (0XA9); 
		*Data = (0x43); 
		*Data = (0x0A); 
		*Data = (0x0F); 
		*Data = (0x00); 
		*Data = (0x00); 
		*Data = (0x00); 
		*Data = (0x00); 		
		
		*Reg = (0XE1);    // Set Gamma 
		*Data = (0x00); 
		*Data = (0x15); 
		*Data = (0x17); 
		*Data = (0x07); 
		*Data = (0x11); 
		*Data = (0x06); 
		*Data = (0x2B); 
		*Data = (0x56); 
		*Data = (0x3C); 
		*Data = (0x05); 
		*Data = (0x10); 
		*Data = (0x0F); 
		*Data = (0x3F); 
		*Data = (0x3F); 
		*Data = (0x0F); 
		*Reg = (0x2B); 
		*Data = (0x00);
		*Data = (0x00);
		*Data = (0x01);
		*Data = (0x3f);
		*Reg = (0x2A); 
		*Data = (0x00);
		*Data = (0x00);
		*Data = (0x00);
		*Data = (0xef);	 
		*Reg = (0x11); // 退出延时
		Delay_Ms(120);
		*Reg = (0x29); // 开启显示
}
